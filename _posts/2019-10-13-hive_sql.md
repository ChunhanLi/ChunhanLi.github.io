---
layout:     post
title:      SQL/Hive
subtitle:   
date:       2019-10-13
author:     Midone
header-img: img/post-bg-re-vs-ng2.jpg
catalog: True
tags:
    - 编程语言
---

### 鹏之Hive神秘代码(未经过实战检测)

```sql
set hive.exec.parallel=true;
SET mapreduce.map.memory.mb=8192;
SET mapreduce.reduce.memory.mb=8192;
SET mapreduce.reduce.java.opts=-Xmx6554m;
set hive.exec.dynamic.partition=true;
set hive.exec.dynamic.partition.mode=nonstrict;
set mapred.max.split.size=256000000;
set hive.input.format=org.apache.hadoop.hive.ql.io.CombineHiveInputFormat;
set hive.groupby.skewindata=true;
set hive.map.aggr=true;
set hive.merge.mapfiles = true;
set hive.merge.mapredfiles = true;
set hive.merge.size.per.task = 256000000;
```

### With创建临时表

```sql
with temp_a as (
    select * from b where id = '110'
),
temp_b as (
    select * from temp_a
)
select * from temp_b
```

### 一些常用易忘操作
```sql
unix_timestamp(string,'yyyy-MM-dd HH:mm:ss')
cast(str as int)
concat(a,b,c,d)

-- exists https://www.cnblogs.com/xuanhai/p/5810918.html
```